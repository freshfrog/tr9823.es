/*
 * ---
 * provides: moo / frame
 * requires: stupid namespace / nodes wrapper / moo
 * author: "[Valerio Proietti](http://mad4milk.net)"
 * license: "[MIT](http://mootools.net/license.txt)"
 * ...
 */
/*
---
provides: moofx
version: 3.0.9-dev
description: A CSS3-enabled javascript animation library
homepage: http://moofx.it
author: Valerio Proietti <@kamicane> (http://mad4milk.net)
license: MIT (http://mootools.net/license.txt)
includes: cubic-bezier by Arian Stolwijk (https://github.com/arian/cubic-bezier)
...
*/

(function(d){"use strict";var e={},require=function(a){var b;if(b=e[a])return b.exports;b=e[a]={exports:{}};var c=b.exports;d[a].call(c,require,b,c,window);return b.exports};window["moofx"]=require("0")})({"0":function(b,c,d,e){"use strict";var f=b("1"),frame=b("2");var g=typeof document!=="undefined"?b("3"):{};g.requestFrame=function(a){frame.request(a);return this};g.cancelFrame=function(a){frame.cancel(a);return this};g.color=f;c.exports=g},"1":function(d,e,f,j){"use strict";var k={maroon:"#800000",red:"#ff0000",orange:"#ffA500",yellow:"#ffff00",olive:"#808000",purple:"#800080",fuchsia:"#ff00ff",white:"#ffffff",lime:"#00ff00",green:"#008000",navy:"#000080",blue:"#0000ff",aqua:"#00ffff",teal:"#008080",black:"#000000",silver:"#c0c0c0",gray:"#808080",transparent:"#0000"};var m=function(r,g,b,a){if(a==null||a==="")a=1;r=parseFloat(r);g=parseFloat(g);b=parseFloat(b);a=parseFloat(a);if(!(r<=255&&r>=0&&g<=255&&g>=0&&b<=255&&b>=0&&a<=1&&a>=0))return null;return[Math.round(r),Math.round(g),Math.round(b),a]};var n=function(a){if(a.length===3)a+="f";if(a.length===4){var b=a.charAt(0),h1=a.charAt(1),h2=a.charAt(2),h3=a.charAt(3);a=b+b+h1+h1+h2+h2+h3+h3}if(a.length===6)a+="ff";var c=[];for(var i=0,l=a.length;i<l;i+=2)c.push(parseInt(a.substr(i,2),16)/(i===6?255:1));return c};var o=function(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};var u=function(h,s,l,a){var r,b,g;if(a==null||a==="")a=1;h/=360;s/=100;l/=100;a/=1;if(h>1||h<0||s>1||s<0||l>1||l<0||a>1||a<0)return null;if(s===0){r=b=g=l}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=o(p,q,h+1/3);g=o(p,q,h);b=o(p,q,h-1/3)}return[r*255,g*255,b*255,a]};var v=[];for(var c in k)v.push(c);var w="(?:#([a-f0-9]{3,8}))",sval="\\s*([.\\d%]+)\\s*",sop="(?:,\\s*([.\\d]+)\\s*)?",slist="\\("+[sval,sval,sval]+sop+"\\)",srgb="(?:rgb)a?",shsl="(?:hsl)a?",skeys="("+v.join("|")+")";var x=RegExp(w,"i"),xrgb=RegExp(srgb+slist,"i"),xhsl=RegExp(shsl+slist,"i");var y=function(a,b){if(a==null)return null;a=(a+"").replace(/\s+/,"");var c=k[a];if(c){return y(c,b)}else if(c=a.match(x)){a=n(c[1])}else if(c=a.match(xrgb)){a=c.slice(1)}else if(c=a.match(xhsl)){a=u.apply(null,c.slice(1))}else return null;if(!(a&&(a=m.apply(null,a))))return null;if(b)return a;if(a[3]===1)a.splice(3,1);return"rgb"+(a.length===4?"a":"")+"("+a+")"};y.x=RegExp([skeys,w,srgb+slist,shsl+slist].join("|"),"gi");e.exports=y},"2":function(c,d,e,f){"use strict";var g=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)};var h=[],running=false;var j=function(a){if(a==null)a=+(new Date);running=false;for(var i=h.length;i--;){var b=h.shift();if(b)b(a)}};var k=function(a){for(var i=h.length;i--;)if(h[i]===a){h.splice(i,1);break}};var l=function(a){h.push(a);if(!running){running=true;g(j)}return function(){k(a)}};e.request=l;e.cancel=k},"3":function(o,q,r,w){"use strict";var z=o("1"),frame=o("2");var D=frame.cancel,requestFrame=frame.request;var E=o("4");var F=o("5"),array=o("6"),string=o("8");var G=string.camelize,clean=string.clean,capitalize=string.capitalize;var H=array.map,each=array.forEach,indexOf=array.indexOf;var I=o("a");var J={};var K=function(a){return J[a]||(J[a]=string.hyphenate(a))};var L=function(n){return Math.round(n*1e3)/1e3};var M=w.getComputedStyle?function(b){var c=getComputedStyle(b);return function(a){return c?c.getPropertyValue(K(a)):""}}:function(b){var c=b.currentStyle;return function(a){return c?c[G(a)]:""}};var N=document.createElement("div");var O="border:none;margin:none;padding:none;visibility:hidden;position:absolute;height:0;";var P=function(a,u){var b=a.parentNode,ratio=1;if(b){N.style.cssText=O+("width:100"+u+";");b.appendChild(N);ratio=N.offsetWidth/100;b.removeChild(N)}return ratio};var Q=function(a){var b=a.length;if(b===1)a.push(a[0],a[0],a[0]);else if(b===2)a.push(a[0],a[1]);else if(b===3)a.push(a[1]);return a};var R="([-.\\d]+)(%|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vm)",sLengthNum=R+"?",sBorderStyle="none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit",sCubicBezier="cubic-bezier\\(([-.\\d]+),([-.\\d]+),([-.\\d]+),([-.\\d]+)\\)",sDuration="([\\d.]+)(s|ms)?";var S=RegExp(R,"g"),rLengthNum=RegExp(sLengthNum),rgLengthNum=RegExp(sLengthNum,"g"),rBorderStyle=RegExp(sBorderStyle),rCubicBezier=RegExp(sCubicBezier),rgCubicBezier=RegExp(sCubicBezier,"g"),rDuration=RegExp(sDuration);var T=function(a){return a==null?"":a+""};var U=function(a,b){if(a==null||a==="")return b?"1":"";var c=+a;return isFinite(c)?c+"":"1"};try{N.style.color="rgba(0,0,0,0.5)"}catch(e){}var V=/^rgba/.test(N.style.color);var W=function(a,b){if(!a)return b?"rgba(0,0,0,1)":"";if(a==="transparent")return b?"rgba(0,0,0,0)":a;var c=z(a,true);if(!c)return b?"rgba(0,0,0,1)":"";if(c[3]===0&&!b)return"transparent";return!b&&(!V||c[3]===1)?"rgb("+c.slice(0,3)+")":"rgba("+c+")"};var X=function(a,b){if(a==null||a==="")return b?"0px":"";var c=string.match(a,rLengthNum);if(!c)return a;return c[1]+(c[2]||"px")};var Y=function(a,b){if(a==null||a==="")return b?"none":"";var c=a.match(rBorderStyle);return c?a:b?"none":""};var Z=function(b,d){var e="0px none rgba(0,0,0,1)";if(b==null||b==="")return d?e:"";if(b===0||b==="none")return d?e:b+"";var c;b=b.replace(z.x,function(a){c=a;return""});var s=b.match(rBorderStyle),l=b.match(rgLengthNum);return clean([X(l?l[0]:"",d),Y(s?s[0]:"",d),W(c,d)].join(" "))};var ba=function(a,b){if(a==null||a==="")return b?"0px 0px 0px 0px":"";return clean(Q(H(clean(a).split(" "),function(v){return X(v,b)})).join(" "))};var bb=function(d,e,f){var g="rgba(0,0,0,0)",normalized=f===3?g+" 0px 0px 0px":g+" 0px 0px 0px 0px";if(d==null||d==="")return e?normalized:"";if(d==="none")return e?normalized:d;var h=[],d=clean(d).replace(z.x,function(a){h.push(a);return""});return H(d.split(","),function(a,i){var c=W(h[i],e),inset=/inset/.test(a),lengths=a.match(rgLengthNum)||["0px"];lengths=H(lengths,function(m){return X(m,e)});while(lengths.length<f)lengths.push("0px");var b=inset?["inset",c]:[c];return b.concat(lengths).join(" ")}).join(", ")};var bc=function(b,c){if(b==null||b==="")return"";return b.replace(z.x,function(a){return W(a,c)}).replace(S,function(a){return X(a,c)})};var bd={},setters={},parsers={},aliases={};var be=function(b){return bd[b]||(bd[b]=function(){var a=aliases[b]||b,parser=parsers[b]||bc;return function(){return parser(M(this)(a),true,this)}}())};var bf=function(c){return setters[c]||(setters[c]=function(){var b=aliases[c]||c,parser=parsers[c]||bc;return function(a){this.style[b]=parser(a,false,this)}}())};var bg=["Top","Right","Bottom","Left"],tlbl=["TopLeft","TopRight","BottomRight","BottomLeft"];each(bg,function(d){var a="border"+d;each(["margin"+d,"padding"+d,a+"Width",d.toLowerCase()],function(n){parsers[n]=X});parsers[a+"Color"]=W;parsers[a+"Style"]=Y;parsers[a]=Z;bd[a]=function(){return[be(a+"Width").call(this),be(a+"Style").call(this),be(a+"Color").call(this)].join(" ")}});each(tlbl,function(d){parsers["border"+d+"Radius"]=X});parsers.color=parsers.backgroundColor=W;parsers.width=parsers.height=parsers.fontSize=parsers.backgroundSize=X;each(["margin","padding"],function(a){parsers[a]=ba;bd[a]=function(){return H(bg,function(d){return be(a+d).call(this)},this).join(" ")}});parsers.borderWidth=ba;parsers.borderStyle=function(a,b){if(a==null||a==="")return b?Q(["none"]).join(" "):"";a=clean(a).split(" ");return clean(Q(H(a,function(v){Y(v,b)})).join(" "))};parsers.borderColor=function(a,b){if(!a||!(a=string.match(a,z.x)))return b?Q(["rgba(0,0,0,1)"]).join(" "):"";return clean(Q(H(a,function(v){return W(v,b)})).join(" "))};each(["Width","Style","Color"],function(a){bd["border"+a]=function(){return H(bg,function(d){return be("border"+d+a).call(this)},this).join(" ")}});parsers.borderRadius=ba;bd.borderRadius=function(){return H(tlbl,function(d){return be("border"+d+"Radius").call(this)},this).join(" ")};parsers.border=Z;bd.border=function(){var a;for(var i=0;i<bg.length;i++){var b=be("border"+bg[i]).call(this);if(a&&b!==a)return null;a=b}return a};parsers.zIndex=T;parsers.opacity=U;var bh=N.style.MsFilter!=null&&"MsFilter"||N.style.filter!=null&&"filter";if(bh&&N.style.opacity==null){var bi=/alpha\(opacity=([\d.]+)\)/i;setters.opacity=function(a){a=(a=+a)===1?"":"alpha(opacity="+a*100+")";var b=M(this)(bh);return this.style[bh]=bi.test(b)?b.replace(bi,a):b+a};bd.opacity=function(){var a=M(this)(bh).match(bi);return(!a?1:a[1]/100)+""}}var bj=parsers.boxShadow=function(a,b){return bb(a,b,4)};var bk=parsers.textShadow=function(a,b){return bb(a,b,3)};each(["Webkit","Moz","ms","O",null],function(c){each(["transition","transform","transformOrigin","transformStyle","perspective","perspectiveOrigin","backfaceVisibility"],function(a){var b=c?c+capitalize(a):a;if(c==="ms")J[b]="-ms-"+K(a);if(N.style[b]!=null)aliases[a]=b})});var bl=aliases.transition,transformName=aliases.transform;if(bl==="OTransition")bl=null;var bm,Transform2d;if(!bl&&transformName)(function(){var g=o("b");var v="\\s*([-\\d\\w.]+)\\s*";var h=RegExp("matrix\\("+[v,v,v,v,v,v]+"\\)");var j=function(a){var d=g.apply(null,a.match(h).slice(1));return["translate("+H(d[0],function(v){return L(v)+"px"})+")","rotate("+L(d[1]*180/Math.PI)+"deg)","skewX("+L(d[2]*180/Math.PI)+"deg)","scale("+H(d[3],L)+")"].join(" ")};var k=function(a){return a||"0px"},def1=function(a){return a||"1"},def0deg=function(a){return a||"0deg"};var l={translate:function(a){if(!a)a="0px,0px";var b=a.split(",");if(!b[1])b[1]="0px";return H(b,clean)+""},translateX:k,translateY:k,scale:function(a){if(!a)a="1,1";var b=a.split(",");if(!b[1])b[1]=b[0];return H(b,clean)+""},scaleX:def1,scaleY:def1,rotate:def0deg,skewX:def0deg,skewY:def0deg};Transform2d=F({constructor:function(d){var e=this.names=[];var f=this.values=[];d.replace(/(\w+)\(([-.\d\s\w,]+)\)/g,function(a,b,c){e.push(b);f.push(c)})},identity:function(){return H(this.names,function(a){return a+"("+l[a]()+")"}).join(" ")},sameType:function(a){return this.names.toString()===a.names.toString()},decompose:function(){var a=this.toString();N.style.cssText=O+K(transformName)+":"+a+";";document.body.appendChild(N);var m=M(N)(transformName);if(!m||m==="none")m="matrix(1, 0, 0, 1, 0, 0)";document.body.removeChild(N);return j(m)}});Transform2d.prototype.toString=function(c){var d=this.values,functions=[];each(this.names,function(a,i){var b=l[a](d[i]);if(!c||b!==l[a]())functions.push(a+"("+b+")")});return functions.length?functions.join(" "):"none"};bm=parsers.transform=function(a){if(!a||a==="none")return"none";return(new Transform2d(h.test(a)?j(a):a)).toString(true)};bd.transform=function(){var s=this.style;return s[transformName]||(s[transformName]=bm(M(this)(transformName)))}})();var bn={"default":"cubic-bezier(0.25, 0.1, 0.25, 1.0)",linear:"cubic-bezier(0, 0, 1, 1)","ease-in":"cubic-bezier(0.42, 0, 1.0, 1.0)","ease-out":"cubic-bezier(0, 0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1.0)"};bn.ease=bn["default"];var bo=F({constructor:function bo(b,c){var d=be(c),_setter=bf(c);this.get=function(){return d.call(b)};this.set=function(a){return _setter.call(b,a)};this.node=b;this.property=c;this.parse=parsers[c]||bc;var e=this;this.bExit=function(a){e.exit(a)}},setOptions:function(a){if(a==null)a={};var b=a.duration;if(!(this.duration=this.parseDuration(b||"500ms")))throw new Error(this.duration+" is not a valid duration");if(!(this.equation=this.parseEquation(a.equation||"default")))throw new Error(this.equation+" is not a valid equation");this.callback=a.callback||function(){};return this},exit:function(a){if(this.exitValue!=null)this.set(this.exitValue);this.cancelExit=null;this.callback(a);return null},prepare:function(f){this.exitValue=null;if(this.duration===0){this.exitValue=f;this.cancelExit=requestFrame(this.bExit);return}var g=this.node,p=this.parse,fromParsed=this.get(),toParsed=p(f,true,g);if(p===X||p===Z||p===ba){var h=toParsed.match(S),i=0;if(h)fromParsed=fromParsed.replace(S,function(a,b,c){var d=h[i++],toMatched=d.match(rLengthNum),toUnit=toMatched[2];if(c!==toUnit){var e=c==="px"?b:P(g,c)*b;return L(e/P(g,toUnit))+toUnit}return a});if(i>0)this.set(fromParsed)}else if(p===bm)(function(){if(fromParsed===toParsed)return;var a,toMap;if(fromParsed==="none"){toMap=new Transform2d(toParsed);toParsed=toMap.toString();fromParsed=toMap.identity();a=new Transform2d(fromParsed)}else if(toParsed==="none"){a=new Transform2d(fromParsed);fromParsed=a.toString();toParsed=a.identity();toMap=new Transform2d(toParsed)}else{a=new Transform2d(fromParsed);fromParsed=a.toString();toMap=new Transform2d(toParsed);toParsed=toMap.toString()}if(fromParsed===toParsed)return;if(!a.sameType(toMap)){fromParsed=a.decompose();toParsed=toMap.decompose()}})();if(fromParsed===toParsed){this.cancelExit=requestFrame(this.bExit)}else{return[fromParsed,toParsed]}},parseDuration:function(a){if(a=string.match(a,rDuration)){var b=+a[1],unit=a[2]||"ms";if(unit==="s")return b*1e3;if(unit==="ms")return b}return null},parseEquation:function(a){a=bn[a]||a;var b=a.replace(/\s+/g,"").match(rCubicBezier);return b&&H(b.slice(1),function(v){return+v})}});var bp;var bq=function(b){var c=[];b=b.replace(/[-.\d]+/g,function(a){c.push(+a);return"@"});return[c,b]};var br=function(a,b,c){return(b-a)*c+a};bp=F({inherits:bo,constructor:function bp(a,b){bp.parent.constructor.call(this,a,b);var c=this;this.bStep=function(t){return c.step(t)}},start:function(a){this.stop();var b=this.prepare(a),p=this.parse;if(b){this.time=0;var c=bq(b[0]),to_=bq(b[1]);if(c[0].length!==to_[0].length||(p===bj||p===bk||p===bc)&&c[1]!==to_[1]){this.exitValue=a;this.cancelExit=requestFrame(this.bExit)}else{this.from=c[0];this.to=to_[0];this.template=to_[1];this.cancelStep=requestFrame(this.bStep)}}return this},stop:function(){if(this.cancelExit)this.cancelExit=this.cancelExit();else if(this.cancelStep)this.cancelStep=this.cancelStep();return this},step:function(a){this.time||(this.time=a);var b=(a-this.time)/this.duration;if(b>1)b=1;var c=this.equation(b),tpl=this.template,from=this.from,to=this.to;for(var i=0,l=from.length;i<l;i++){var f=from[i],t=to[i];tpl=tpl.replace("@",t!==f?br(f,t,c):t)}this.set(tpl);if(b!==1)this.cancelStep=requestFrame(this.bStep);else{this.cancelStep=null;this.callback(a)}},parseEquation:function(a){var a=bp.parent.parseEquation.call(this,a);if(a.toString()==="0,0,1,1")return function(x){return x};return E(a[0],a[1],a[2],a[3],1e3/60/this.duration/4)}});var bs=function(d,a,b,c){var e=indexOf(a,d);if(e!==-1){a.splice(e,1);b.splice(e,1);c.splice(e,1)}};var bt=F({inherits:bo,constructor:function bt(b,c){bt.parent.constructor.call(this,b,c);this.hproperty=K(aliases[c]||c);var d=this;this.bSetTransitionCSS=function(a){d.setTransitionCSS(a)};this.bSetStyleCSS=function(a){d.setStyleCSS(a)};this.bComplete=function(){d.complete()}},start:function(a){this.stop();var b=this.prepare(a);if(b){this.to=b[1];this.cancelSetTransitionCSS=requestFrame(this.bSetTransitionCSS)}return this},setTransitionCSS:function(){this.cancelSetTransitionCSS=null;this.resetCSS(true);this.cancelSetStyleCSS=requestFrame(this.bSetStyleCSS)},setStyleCSS:function(a){this.cancelSetStyleCSS=null;var b=this.duration;this.cancelComplete=setTimeout(this.bComplete,b);this.endTime=a+b;this.set(this.to)},complete:function(){this.cancelComplete=null;this.resetCSS();this.callback(this.endTime);return null},stop:function(a){if(this.cancelExit)this.cancelExit=this.cancelExit();else if(this.cancelSetTransitionCSS){this.cancelSetTransitionCSS=this.cancelSetTransitionCSS()}else if(this.cancelSetStyleCSS){this.cancelSetStyleCSS=this.cancelSetStyleCSS();if(a)this.resetCSS()}else if(this.cancelComplete){this.cancelComplete=clearTimeout(this.cancelComplete);if(a){this.resetCSS();this.set(this.get())}}return this},resetCSS:function(a){var b=M(this.node),properties=b(bl+"Property").replace(/\s+/g,"").split(","),durations=b(bl+"Duration").replace(/\s+/g,"").split(","),bn=b(bl+"TimingFunction").replace(/\s+/g,"").match(rgCubicBezier);bs("all",properties,durations,bn);bs(this.hproperty,properties,durations,bn);if(a){properties.push(this.hproperty);durations.push(this.duration+"ms");bn.push("cubic-bezier("+this.equation+")")}var c=this.node.style;c[bl+"Property"]=properties;c[bl+"Duration"]=durations;c[bl+"TimingFunction"]=bn}});var bu=bl?bt:bp;var bv=function(x,y){return I(x,y)};I.implement({animate:function(A,B,C){var d=A,options=B;if(typeof A==="string"){d={};d[A]=B;options=C}if(options==null)options={};var e=typeof options;options=e==="function"?{callback:options}:e==="string"||e==="number"?{duration:options}:options;var f=options.callback||function(){},completed=0,length=0;options.callback=function(t){if(++completed===length)f(t)};for(var g in d){var h=d[g],g=G(g);this.handle(function(a){length++;var b=this._animations||(this._animations={});var c=b[g]||(b[g]=new bu(a,g));c.setOptions(options).start(h)})}return this},style:function(A,B){var c=A;if(typeof A==="string"){c={};c[A]=B}for(var d in c){var e=c[d],set=bf(d=G(d));this.handle(function(a){var b=this._animations,anim;if(b&&(anim=b[d]))anim.stop(true);set.call(a,e)})}return this},compute:function(d){var p=parsers[d=G(d)],node=this[0];if(p&&p===bm)return M(node)(transformName);var e=be(d).call(node);if(p&&(p===X||p===Z||p===ba))e=e.replace(S,function(a,b,c){return c==="px"?a:P(node,c)*b+"px"});return e}});bv.version="3.0.9-dev";q.exports=bv},"4":function(j,k,l,m){k.exports=function(a,b,c,d,e){var f=function(t){var v=1-t;return 3*v*v*t*a+3*v*t*t*c+t*t*t};var g=function(t){var v=1-t;return 3*v*v*t*b+3*v*t*t*d+t*t*t};var h=function(t){var v=1-t;return 3*(2*(t-1)*t+v*v)*a+3*(-t*t*t+2*v*t)*c};return function(t){var x=t,t0,t1,t2,c,d2,i;for(t2=x,i=0;i<8;i++){c=f(t2)-x;if(Math.abs(c)<e)return g(t2);d2=h(t2);if(Math.abs(d2)<1e-6)break;t2=t2-c/d2}t0=0,t1=1,t2=x;if(t2<t0)return g(t0);if(t2>t1)return g(t1);while(t0<t1){c=f(t2);if(Math.abs(c-x)<e)return g(t2);if(x>c)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return g(t2)}}},"5":function(e,f,g,h){"use strict";var i=function(a,b){return Object.hasOwnProperty.call(a,b)};var j=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===false)break;return a};var k=Object.create||function(a){var F=function(){};F.prototype=a;return new F};var l=function(a,b){this.prototype[a]=b};var m=function(c){j(c,function(a,b){if(b!=="constructor"&&b!=="inherits"&&b!=="mutator")this.mutator(b,a)},this);return this};var n=function(a){var b=a.inherits,superproto;if(b)superproto=b.prototype;var constructor=i(a,"constructor")?a.constructor:b?function(){return superproto.constructor.apply(this,arguments)}:function(){};if(b){var c=constructor.prototype=k(superproto);constructor.parent=superproto;c.constructor=constructor}constructor.mutator=a.mutator||b&&b.mutator||l;constructor.implement=m;return constructor.implement(a)};n.each=j;n.has=i;n.create=k;f.exports=n},"6":function(d,e,f,g){"use strict";var h=d("7");var j=Array.prototype;var k=h({filter:j.filter,indexOf:j.indexOf||function(a,b){for(var l=this.length>>>0,i=b<0?Math.max(0,l+b):b||0;i<l;i++){if(i in this&&this[i]===a)return i}return-1},map:j.map||function(a,b){var c=this.length>>>0,results=Array(c);for(var i=0,l=c;i<l;i++){if(i in this)results[i]=a.call(b,this[i],i,this)}return results},forEach:j.forEach||function(a,b){for(var i=0,l=this.length>>>0;i<l;i++){if(i in this)a.call(b,this[i],i,this)}},every:j.every,some:j.some});k.isArray=Array.isArray;var m={};var n="pop,push,reverse,shift,sort,splice,unshift,concat,join,slice,lastIndexOf,reduce,reduceRight".split(",");for(var i=0,name,method;name=n[i++];)if(method=j[name])m[name]=method;k.implement(m);e.exports=k},"7":function(e,f,g,h){"use strict";var i=e("5"),slice=Array.prototype.slice;var j=i({mutator:function(c,d){this[c]=function(a){var b=arguments.length>1?slice.call(arguments,1):[];return d.apply(a,b)};this.prototype[c]=d},constructor:{prototype:{}}});f.exports=function(a){var b=a.inherits||(a.inherits=j);a.constructor=i.create(b);return i(a)}},"8":function(b,c,d,e){"use strict";var f=b("7");var g=f({inherits:b("9"),clean:function(){return g.trim((this+"").replace(/\s+/g," "))},camelize:function(){return(this+"").replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},hyphenate:function(){return(this+"").replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},capitalize:function(){return(this+"").replace(/\b[a-z]/g,function(a){return a.toUpperCase()})}});c.exports=g},"9":function(a,b,c,d){"use strict";var e=a("7");var f=String.prototype;var g=e({trim:f.trim||function(){return(this+"").replace(/^\s+|\s+$/g,"")}});var h={};var j="charAt,charCodeAt,concat,indexOf,lastIndexOf,match,quote,replace,search,slice,split,substr,substring,toLowerCase,toUpperCase".split(",");for(var i=0,name,method;name=j[i++];)if(method=f[name])h[name]=method;g.implement(h);b.exports=g},a:function(g,h,m,o){"use strict";var p=g("5");var q=0;var r=function(n){return n===o?"global":n.uniqueNumber||(n.uniqueNumber="n:"+(q++).toString(36))};var s={};var t,sort;var $=p({constructor:function d(n,a){if(n==null)return null;if(n instanceof u)return n;var b=new u;if(n.nodeType||n===o){b[b.length++]=n}else if(typeof n==="string"){if(t)t(n,a,b)}else if(n.length){var c={};for(var i=0,l=n.length;i<l;i++){var d=$(n[i],a);if(d&&d.length)for(var j=0,k=d.length;j<k;j++){var e=d[j],f=r(e);if(!c[f]){b[b.length++]=e;c[f]=true}}}if(sort&&b.length>1)sort(b)}if(!b.length)return null;if(b.length===1){var f=r(b[0]);return s[f]||(s[f]=b)}return b}});var u=p({inherits:$,constructor:function u(){this.length=0},handle:function handle(a){var b=[],length=this.length;if(length===1){var c=a.call(this,this[0],0,b);if(c!=null&&c!==false&&c!==true)b.push(c)}else for(var i=0;i<length;i++){var d=this[i],c=a.call($(d),d,i,b);if(c===false||c===true)break;if(c!=null)b.push(c)}return b}});$.use=function(a){$.implement(p.create(a.prototype));if(a.search)t=a.search;if(a.sort)sort=a.sort;return this};h.exports=$},b:function(k,n,o,p){"use strict";var q=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])};var r=function(a){var l=q(a);return l?[a[0]/l,a[1]/l]:[0,0]};var s=function(a,b){return a[0]*b[0]+a[1]*b[1]};var t=Math.atan2;var u=function(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1]]};n.exports=function(a,b,c,d,e,f){if(a*d-b*c===0)return false;var g=[e,f];var m=[[a,b],[c,d]];var h=[q(m[0])];m[0]=r(m[0]);var i=s(m[0],m[1]);m[1]=u(m[1],m[0],1,-i);h[1]=q(m[1]);i/=h[1];var j=t(m[0][1],m[0][0]);return[g,j,i,h]}}});
